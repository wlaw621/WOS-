<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WOS FC9/FC10 Upgrade Calculator with Buffs</title>
    <style>
        :root {
            --bg-dark: #0a0e14;
            --frost-blue: #A0E7FF;
            --fire-red: #FF4D4D;
            --glass-bg: rgba(255, 255, 255, 0.05);
            --border-ice: rgba(160, 231, 255, 0.2);
            --card-active: rgba(255, 77, 77, 0.2);
            --buff-gold: #FFD700;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            background-color: var(--bg-dark);
            background-image: 
                radial-gradient(circle at 50% 0%, #1a2a3a 0%, transparent 50%),
                linear-gradient(rgba(0,0,0,0.7), rgba(0,0,0,0.7)),
                url('https://www.transparenttextures.com/patterns/ice-crystals.png');
            color: #fff;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .container {
            width: 100%;
            max-width: 650px;
            padding: 20px;
            box-sizing: border-box;
        }

        header {
            text-align: center;
            margin-bottom: 25px;
            border-bottom: 1px solid var(--border-ice);
            padding-bottom: 15px;
        }

        header h1 {
            color: var(--frost-blue);
            font-size: 1.5rem;
            margin: 0;
            text-shadow: 0 0 10px rgba(160, 231, 255, 0.5);
        }

        /* Dashboard Styles */
        .dashboard {
            position: sticky;
            top: 20px;
            z-index: 100;
            background: rgba(10, 14, 20, 0.95);
            backdrop-filter: blur(12px);
            border: 1px solid var(--fire-red);
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 30px;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            box-shadow: 0 10px 30px rgba(255, 77, 77, 0.15);
        }

        .stat-box {
            text-align: center;
            padding: 8px;
        }

        .stat-box.full-width {
            grid-column: span 2;
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 10px;
        }

        .stat-label {
            font-size: 0.75rem;
            color: var(--frost-blue);
            display: block;
            margin-bottom: 3px;
        }

        .stat-value {
            font-size: 1.1rem;
            font-weight: bold;
        }

        .stat-value.red { color: var(--fire-red); }
        .stat-value.gold { color: var(--buff-gold); }

        /* Section Styles */
        .section-title {
            color: var(--frost-blue);
            font-size: 1rem;
            margin: 25px 0 12px;
            display: flex;
            align-items: center;
        }

        .section-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: linear-gradient(90deg, var(--border-ice), transparent);
            margin-left: 15px;
        }

        .button-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }

        /* Upgrade Button */
        .upgrade-btn {
            background: var(--glass-bg);
            border: 1px solid var(--border-ice);
            border-radius: 10px;
            padding: 12px 8px;
            color: #ddd;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .upgrade-btn.selected {
            border-color: var(--fire-red);
            background: var(--card-active);
            color: #fff;
        }

        .upgrade-btn .name { font-weight: bold; font-size: 0.85rem; }
        .upgrade-btn .info { font-size: 0.7rem; opacity: 0.7; }

        /* Buff Section Styles */
        .buff-container {
            background: rgba(255, 255, 255, 0.03);
            border-radius: 12px;
            padding: 15px;
            border: 1px solid var(--border-ice);
        }

        .buff-group {
            margin-bottom: 15px;
        }

        .buff-group label {
            display: block;
            font-size: 0.85rem;
            margin-bottom: 8px;
            color: var(--frost-blue);
        }

        .buff-options {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .chip {
            background: rgba(255, 255, 255, 0.08);
            border: 1px solid transparent;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.8rem;
            cursor: pointer;
            transition: 0.2s;
        }

        .chip.active {
            background: var(--buff-gold);
            color: #000;
            font-weight: bold;
        }

        .input-custom {
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid var(--border-ice);
            border-radius: 8px;
            color: #fff;
            padding: 8px;
            width: 80px;
            outline: none;
            margin-left: 10px;
        }

        .warning-box {
            background: rgba(255, 77, 77, 0.1);
            border: 1px dashed var(--fire-red);
            padding: 12px;
            border-radius: 8px;
            font-size: 0.8rem;
            color: #ff9999;
            text-align: center;
            margin-top: 30px;
        }

        footer {
            text-align: center;
            padding: 30px 0;
            font-size: 0.75rem;
            color: #666;
        }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>WHITE OUT SURVIVAL</h1>
        <div style="font-size: 0.8rem; color: #888; margin-top: 5px;">ë¶ˆì˜ ìˆ˜ì • ì—…ê·¸ë ˆì´ë“œ & ê°€ì† ê³„ì‚°ê¸°</div>
    </header>

    <div class="dashboard">
        <div class="stat-box">
            <span class="stat-label">í•„ìš”í•œ ë¶ˆì˜ ìˆ˜ì • (FC)</span>
            <span id="total-fc" class="stat-value red">0</span>
        </div>
        <div class="stat-box">
            <span class="stat-label">ì •ì œëœ ë¶ˆì˜ ìˆ˜ì • (RFC)</span>
            <span id="total-rfc" class="stat-value red">0</span>
        </div>
        <div class="stat-box">
            <span class="stat-label">ê¸°ë³¸ ê±´ì„¤ ì‹œê°„</span>
            <span id="base-days" class="stat-value">0 ì¼</span>
        </div>
        <div class="stat-box">
            <span class="stat-label">ê°€ì† ì ìš© í›„ (ì˜ˆìƒ)</span>
            <span id="final-days" class="stat-value gold">0 ì¼</span>
        </div>
        <div class="stat-box full-width">
            <span class="stat-label">í˜„ì¬ ì ìš©ëœ ì´ ë²„í”„ ë³´ë„ˆìŠ¤</span>
            <span id="total-buff-percent" class="stat-value gold">0%</span>
        </div>
    </div>

    <!-- ë²„í”„ ì„¹ì…˜ -->
    <div class="section-title">í™œì„±í™”ëœ ê±´ì„¤ ë²„í”„ ì„ íƒ</div>
    <div class="buff-container">
        <!-- VIP & ì¡±ì¥ & ì§‘í–‰ê´€ -->
        <div class="buff-group">
            <label>ì‹œìŠ¤í…œ ë° ì§ì±… ë²„í”„</label>
            <div class="buff-options">
                <div class="chip" data-type="toggle" data-val="10" id="buff-vip">ğŸ‘‘ VIP (+10%)</div>
                <div class="chip" data-type="toggle" data-val="20" id="buff-chief">ğŸ  ì‹œì²­ ìŠ¤í‚¬ (+20%)</div>
                <div class="chip" data-type="toggle" data-val="10" id="buff-pres">ğŸŒ ì§‘í–‰ê´€ ìŠ¤í‚¬ (+10%)</div>
                <div class="chip" data-type="toggle" data-val="10" id="buff-vp">ğŸ–ï¸ ë¶€ì§‘í–‰ê´€ (+10%)</div>
            </div>
        </div>

        <!-- í« í•˜ì´ì—ë‚˜ -->
        <div class="buff-group">
            <label>ğŸº ë™êµ´ í•˜ì´ì—ë‚˜ (ê±´ì¶•ê°€ ì¡°ìˆ˜)</label>
            <div class="buff-options" id="buff-hyena">
                <div class="chip" data-type="radio" data-val="5">5%</div>
                <div class="chip" data-type="radio" data-val="7">7%</div>
                <div class="chip" data-type="radio" data-val="9">9%</div>
                <div class="chip" data-type="radio" data-val="12">12%</div>
                <div class="chip" data-type="radio" data-val="15">15%</div>
            </div>
        </div>

        <!-- ì˜ì›… ì§„ë¨¼ -->
        <div class="buff-group">
            <label>ğŸ– ì§„ë¨¼ (ì›ì • ë³´ë„ˆìŠ¤)</label>
            <div class="buff-options" id="buff-jinman">
                <div class="chip" data-type="radio" data-val="9">9%</div>
                <div class="chip" data-type="radio" data-val="12">12%</div>
                <div class="chip" data-type="radio" data-val="15">15%</div>
            </div>
        </div>

        <!-- ì»¤ìŠ¤í…€ -->
        <div class="buff-group" style="margin-bottom: 0;">
            <label>ê¸°íƒ€ ë²„í”„ (ì—°êµ¬, ì„¬, ì—°ë§¹ ë³´ë„ˆìŠ¤ ë“±)</label>
            <div style="display: flex; align-items: center;">
                <span style="font-size: 0.8rem;">ì¶”ê°€ í•©ê³„:</span>
                <input type="number" id="custom-buff" class="input-custom" value="0" min="0" oninput="calculateTotal()">
                <span style="margin-left: 5px; font-size: 0.8rem;">%</span>
            </div>
        </div>
    </div>

    <!-- ê±´ë¬¼ ì„ íƒ -->
    <div class="section-title">9ë¶ˆ(FC9) ì—…ê·¸ë ˆì´ë“œ ê±´ë¬¼</div>
    <div class="button-grid" id="fc9-group"></div>

    <div class="section-title">10ë¶ˆ(FC10) ì—…ê·¸ë ˆì´ë“œ ê±´ë¬¼</div>
    <div class="button-grid" id="fc10-group"></div>

    <div class="warning-box">
        âš ï¸ ëª¨ë“  ë²„í”„ëŠ” ë°˜ë“œì‹œ ê±´ë¬¼ ì—…ê·¸ë ˆì´ë“œ ë²„íŠ¼ì„ ëˆ„ë¥´ê¸° ì „ì— í™œì„±í™”ë˜ì–´ì•¼ ì ìš©ë©ë‹ˆë‹¤.
    </div>

    <footer>
        &copy; 2026 WOS 2/14 1953ì„œë²„ GOMì—°ë§¹ - Created by íŒë‹¤ê³°
    </footer>
</div>

<script>
    const UPGRADE_DATA = {
        fc9: {
            furnace: { name: "ìš©ê´‘ë¡œ", fc: 1260, rfc: 180, days: 65 },
            infantry: { name: "ë°©íŒ¨ë³‘ ë³‘ì˜", fc: 567, rfc: 78, days: 10 },
            lancer: { name: "ì°½ë³‘ ë³‘ì˜", fc: 567, rfc: 78, days: 10 },
            marksman: { name: "ê¶ë³‘ ë³‘ì˜", fc: 567, rfc: 78, days: 10 },
            embassy: { name: "ëŒ€ì‚¬ê´€", fc: 315, rfc: 42, days: 10 },
            command: { name: "ì§€íœ˜ë¶€", fc: 252, rfc: 36, days: 10 }
        },
        fc10: {
            furnace: { name: "ìš©ê´‘ë¡œ", fc: 1575, rfc: 420, days: 100 },
            infantry: { name: "ë°©íŒ¨ë³‘ ë³‘ì˜", fc: 706, rfc: 186, days: 15 },
            lancer: { name: "ì°½ë³‘ ë³‘ì˜", fc: 706, rfc: 186, days: 15 },
            marksman: { name: "ê¶ë³‘ ë³‘ì˜", fc: 706, rfc: 186, days: 15 },
            embassy: { name: "ëŒ€ì‚¬ê´€", fc: 392, rfc: 103, days: 15 },
            command: { name: "ì§€íœ˜ë¶€", fc: 315, rfc: 87, days: 15 }
        }
    };

    const state = {
        selectedBuildings: { fc9: {}, fc10: {} },
        buffs: {
            toggles: { vip: 0, chief: 0, pres: 0, vp: 0 },
            hyena: 0,
            jinman: 0
        }
    };

    function init() {
        renderGroup('fc9', 'fc9-group');
        renderGroup('fc10', 'fc10-group');
        setupBuffListeners();
    }

    function renderGroup(level, containerId) {
        const container = document.getElementById(containerId);
        const buildings = UPGRADE_DATA[level];
        for (const [key, data] of Object.entries(buildings)) {
            const btn = document.createElement('button');
            btn.className = 'upgrade-btn';
            btn.innerHTML = `<span class="name">${data.name}</span><span class="info">FC ${data.fc} / RFC ${data.rfc}</span>`;
            btn.onclick = () => {
                if (state.selectedBuildings[level][key]) {
                    delete state.selectedBuildings[level][key];
                    btn.classList.remove('selected');
                } else {
                    state.selectedBuildings[level][key] = data;
                    btn.classList.add('selected');
                }
                calculateTotal();
            };
            container.appendChild(btn);
        }
    }

    function setupBuffListeners() {
        // Toggle Buttons
        document.querySelectorAll('.chip[data-type="toggle"]').forEach(chip => {
            chip.onclick = () => {
                chip.classList.toggle('active');
                const val = parseInt(chip.dataset.val);
                const id = chip.id.replace('buff-', '');
                state.buffs.toggles[id] = chip.classList.contains('active') ? val : 0;
                calculateTotal();
            };
        });

        // Radio Groups (Hyena, Jinman)
        const setupRadio = (containerId, stateKey) => {
            const chips = document.querySelectorAll(`#${containerId} .chip`);
            chips.forEach(chip => {
                chip.onclick = () => {
                    const isActive = chip.classList.contains('active');
                    chips.forEach(c => c.classList.remove('active'));
                    if (!isActive) {
                        chip.classList.add('active');
                        state.buffs[stateKey] = parseInt(chip.dataset.val);
                    } else {
                        state.buffs[stateKey] = 0;
                    }
                    calculateTotal();
                };
            });
        };
        setupRadio('buff-hyena', 'hyena');
        setupRadio('buff-jinman', 'jinman');
    }

    function calculateTotal() {
        let totalFC = 0, totalRFC = 0, baseDays = 0;

        // ê±´ì•¡ ìì›/ì‹œê°„ í•©ì‚°
        [state.selectedBuildings.fc9, state.selectedBuildings.fc10].forEach(group => {
            for (const key in group) {
                totalFC += group[key].fc;
                totalRFC += group[key].rfc;
                baseDays += group[key].days;
            }
        });

        // ë²„í”„ í•©ì‚°
        let buffSum = 0;
        for (const key in state.buffs.toggles) buffSum += state.buffs.toggles[key];
        buffSum += state.buffs.hyena;
        buffSum += state.buffs.jinman;
        buffSum += parseInt(document.getElementById('custom-buff').value || 0);

        // ê°€ì† ê³µì‹ ì ìš©: ê¸°ë³¸ì‹œê°„ / (1 + ë²„í”„í•©/100)
        const finalDays = baseDays / (1 + (buffSum / 100));

        // ì—…ë°ì´íŠ¸
        document.getElementById('total-fc').innerText = totalFC.toLocaleString();
        document.getElementById('total-rfc').innerText = totalRFC.toLocaleString();
        document.getElementById('base-days').innerText = baseDays.toFixed(1) + ' ì¼';
        document.getElementById('final-days').innerText = finalDays.toFixed(1) + ' ì¼';
        document.getElementById('total-buff-percent').innerText = buffSum + '%';
    }

    window.onload = init;
</script>

</body>
</html>
